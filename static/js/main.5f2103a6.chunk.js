(this["webpackJsonptramite-documentario-episi"]=this["webpackJsonptramite-documentario-episi"]||[]).push([[0],{22:function(e,t,s){},31:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(24),i=s.n(r),o=(s(31),s(11)),l=s(3),d=s(2),j=s.n(d),u=s(5),b=s(6),h=s(16),m=s.n(h),p=(s(33),s.p+"static/media/estudiante.0cb003ea.svg"),O=s.p+"static/media/persona.2c218a33.svg",x=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),s=t[0],c=t[1],r=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8090/api/personas");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,c(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(a.jsxs)("main",{className:"container-main",children:[Object(a.jsx)("h2",{className:"default-title",children:"Lista de Personas"}),Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"adminPerson-list",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Nombre"}),Object(a.jsx)("th",{children:"Correo"}),Object(a.jsx)("th",{children:"Identificaci\xf3n"}),Object(a.jsx)("th",{children:"Puesto"})]})}),Object(a.jsx)("tbody",{children:s.length>0?s.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(a.jsx)("td",{children:e.nombre}),Object(a.jsx)("td",{children:e.correo}),Object(a.jsx)("td",{children:1===e.puesto.id?e.codEstudiante:e.dniRuc}),Object(a.jsxs)("td",{children:[Object(a.jsx)("img",{src:1===e.puesto.id?p:O,alt:"",height:"18px"})," ",e.puesto.nombre]})]},e.id)})):Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{})]})})]})})]})},f=s(17),v=(s(22),function(){var e,t,s,c,r=Object(f.a)(),i=r.register,o=r.errors,l=r.handleSubmit,d=Object(n.useState)([]),h=Object(b.a)(d,2),m=h[0],p=h[1],O=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8090/api/personas/puestos");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,p(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);return Object(a.jsxs)("div",{className:"container-main",children:[Object(a.jsx)("h2",{className:"default-title",children:"Registrar persona"}),Object(a.jsxs)("form",{className:"form-default",onSubmit:l((function(e,t){var s={dniRuc:e.dniOruc,nombre:e.nombre,correo:e.correo,codEstudiante:e.codigoEstudiante,puesto:{id:Number(e.puesto)}};console.log(s),function(e){try{fetch("http://localhost:8090/api/personas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}catch(t){}}(s),t.target.reset()})),children:[Object(a.jsxs)("label",{className:"label-default",children:[" Nombre",Object(a.jsx)("input",{type:"text",name:"nombre",className:"input-default",ref:i({required:{value:!0,message:"nombre obligatorio"},pattern:{value:/^[A-Za-z\xc0-\xff\s]+$/i,message:"nombre no v\xe1lido"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===o||void 0===o||null===(e=o.nombre)||void 0===e?void 0:e.message}),Object(a.jsxs)("label",{className:"label-default",children:[" DNI/RUC",Object(a.jsx)("input",{type:"text",name:"dniOruc",className:"input-default",ref:i({required:{value:!0,message:"DNI/RUC obligatorio"},pattern:{value:/[0-9]+$/,message:"Solo n\xfameros"},minLength:{value:8,message:"muy corto, son 8 caracteres para DNI"},maxLength:{value:11,message:"te pasaste, solo 11 caracteres para RUC"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===o||void 0===o||null===(t=o.dniOruc)||void 0===t?void 0:t.message}),Object(a.jsxs)("label",{className:"label-default",children:[" Correo",Object(a.jsx)("input",{type:"text",name:"correo",className:"input-default",ref:i({required:{value:!0,message:"Correo obligatorio"},pattern:{value:/[a-z0-9_.-]+@[a-z]+\.[a-z0-9_.-]+[a-z0-9]/i,message:"correo no v\xe1lido"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===o||void 0===o||null===(s=o.correo)||void 0===s?void 0:s.message}),Object(a.jsxs)("label",{className:"label-default",children:[" Cod. estudiante",Object(a.jsx)("input",{type:"text",name:"codigoEstudiante",className:"input-default",ref:i({required:{value:!0,message:"c\xf3digo de estudiante obligatorio"},pattern:{value:/[0-9]+$/,message:"Solo n\xfameros"},minLength:{value:10,message:"muy corto, son 10 caracteres"},maxLength:{value:10,message:"te pasaste, solo 10 caracteres"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===o||void 0===o||null===(c=o.codigoEstudiante)||void 0===c?void 0:c.message}),Object(a.jsxs)("label",{className:"label-default",children:[" Puesto",Object(a.jsx)("select",{name:"puesto",className:"input-default",ref:i(),children:m.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}),Object(a.jsx)("button",{className:"button-default",children:"Registrar"})]})]})}),g=s(9),N=(s(34),function(){var e,t,s=Object(f.a)(),c=s.register,r=s.errors,i=s.handleSubmit,o=Object(n.useState)([]),l=Object(b.a)(o,2),d=l[0],h=l[1],m=Object(n.useState)([]),p=Object(b.a)(m,2),O=p[0],x=p[1],v=Object(n.useState)(null),N=Object(b.a)(v,2),S=N[0],y=N[1],C=Object(n.useState)(null),D=Object(b.a)(C,2),w=D[0],E=D[1],T=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8090/api/solicitudes/tipo-solicitudes");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,h(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8090/api/personas");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,x(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){T(),R()}),[]);var P=function(e){var t=e.target.value.trim();if(!(t.length>0))return null;var s,a=Object(g.a)(O);try{for(a.s();!(s=a.n()).done;){var n=s.value;if(-1!==n.nombre.toLowerCase().indexOf(t.toLowerCase()))return n}}catch(c){a.e(c)}finally{a.f()}},I=function(e){fetch("http://localhost:8090/api/solicitudes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))};return Object(a.jsxs)("div",{className:"container-main",children:[Object(a.jsx)("h2",{className:"default-title",children:"Registrar nuevo Tr\xe1mite"}),Object(a.jsxs)("form",{className:"form-default ",onSubmit:i((function(e,t){var s={descripcion:e.descripcion,tipoSolicitud:{id:e.tipoTramite},personaEmisor:{id:S.id},personasReceptoras:[{id:w.id}]};console.log(s),I(s),t.target.reset()})),children:[Object(a.jsx)("p",{className:"default-subtitle",children:"Datos generales"}),Object(a.jsxs)("label",{className:"label-default",children:[" Tipo de Tr\xe1mite",Object(a.jsx)("select",{name:"tipoTramite",className:"input-default",ref:c(),children:d.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}),Object(a.jsxs)("label",{className:"label-default",children:[" Descripci\xf3n",Object(a.jsx)("textarea",{name:"descripcion",className:"input-default",ref:c()})]}),Object(a.jsx)("p",{className:"default-subtitle",children:"Datos del Solicitante"}),Object(a.jsxs)("label",{className:"label-default",children:[" Solicitante",Object(a.jsx)("input",{onKeyDown:function(e){y(P(e))},type:"search",name:"solicitante",placeholder:"Buscador de solicitante",className:"input-buscador",ref:c({required:{value:!0,message:"solicitante obligatorio"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===r||void 0===r||null===(e=r.solicitante)||void 0===e?void 0:e.message}),null!==S&&S?Object(a.jsxs)("ul",{className:"info-persona",children:[Object(a.jsx)("li",{className:"info-persona-titulo",children:"Solicitante"}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Nombre:"})," ",S.nombre]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Correo:"})," ",S.correo]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Puesto:"})," ",S.puesto.nombre]})]}):Object(a.jsxs)("ul",{className:"info-persona",children:[Object(a.jsx)("li",{children:"No hay Datos, reg\xedstrelo !!"})," "]}),Object(a.jsx)("p",{className:"default-subtitle",children:"Datos del destinatario"}),Object(a.jsxs)("label",{className:"label-default",children:[" Destinatario",Object(a.jsx)("input",{onKeyDown:function(e){E(P(e))},type:"search",name:"destinatario",placeholder:"Buscador de destinatario",className:"input-buscador",ref:c({required:{value:!0,message:"destinatario obligatorio"}})})]}),Object(a.jsx)("span",{className:"input-error",children:null===r||void 0===r||null===(t=r.destinatario)||void 0===t?void 0:t.message}),null!==w&&w?Object(a.jsxs)("ul",{className:"info-persona",children:[Object(a.jsx)("li",{className:"info-persona-titulo",children:"Destinatario"}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Nombre:"})," ",w.nombre]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Correo:"})," ",w.correo]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"persona-dato",children:"Puesto:"})," ",w.puesto.nombre]})]}):Object(a.jsxs)("ul",{className:"info-persona",children:[Object(a.jsx)("li",{children:"No hay Datos, reg\xedstrelo !!"})," "]}),Object(a.jsx)("button",{className:"button-default",children:"Registrar"}),Object(a.jsx)("input",{name:"fecha",type:"text",value:function(){var e=new Date,t=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1;return"".concat(e.getFullYear(),"-").concat(s,"-").concat(t)}(),readOnly:"readonly",className:"tramite-fecha"})]})]})}),S=(s(35),s.p+"static/media/logo_uns.23e16e39.png"),y=s.p+"static/media/logo_episi.35a32d18.jpg",C=(s(36),s.p+"static/media/hogar.b0fca4f1.svg"),D=function(){return Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)(o.b,{to:"/",exact:!0,className:"navbar-option",children:Object(a.jsx)("img",{src:C,alt:"inicio",height:"25px"})}),Object(a.jsx)(o.b,{to:"/listar.personas",className:"navbar-option",activeClassName:"navbar-activate",children:"Listar personas"}),Object(a.jsx)(o.b,{to:"/registrar.persona",className:"navbar-option",activeClassName:"navbar-activate",children:"Registrar persona"}),Object(a.jsx)(o.b,{to:"/listar.tramites",className:"navbar-option",activeClassName:"navbar-activate",children:"Lista de tr\xe1mites"}),Object(a.jsx)(o.b,{to:"/registrar.tramite",className:"navbar-option",activeClassName:"navbar-activate",children:"Registrar tr\xe1mite"}),Object(a.jsx)(o.b,{to:"/",exact:!0,className:"navbar-option",activeClassName:"navbar-activate",children:"Salir"})]})},w=function(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsxs)("div",{className:"header-information",children:[Object(a.jsx)("img",{src:S,alt:"logo UNS",height:"30px"}),Object(a.jsx)("h1",{className:"header-title",children:"Sistema de Tr\xe1mite Documentario de EPISI"}),Object(a.jsx)("img",{src:y,alt:"logo EPISI",height:"30px"})]}),Object(a.jsx)(D,{})]})},E=(s(42),s.p+"static/media/abrir_documento.6376c73e.svg"),T=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),s=t[0],c=t[1],r=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8090/api/solicitudes");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,c(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(a.jsxs)("main",{className:"container-main",children:[Object(a.jsx)("h2",{className:"default-title",children:"Lista de Tr\xe1mites"}),Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"tramites-list",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Solicitante"}),Object(a.jsx)("th",{children:"Tipo de tr\xe1mite"}),Object(a.jsx)("th",{children:"Estado de solicitud"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:s.length>0?s.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(a.jsxs)("td",{children:[Object(a.jsx)("img",{src:1===e.personaEmisor.puesto.id?p:O,alt:"",height:"18px"})," ",e.personaEmisor.nombre]}),Object(a.jsx)("td",{children:e.tipoSolicitud.nombre}),Object(a.jsxs)("td",{children:[Object(a.jsx)("span",{className:"estado-tramite "+e.estadoSolicitudes[e.estadoSolicitudes.length-1].estado.nombre,children:e.estadoSolicitudes[e.estadoSolicitudes.length-1].estado.nombre}),Object(a.jsx)("span",{className:"fecha-tramite",children:e.estadoSolicitudes[e.estadoSolicitudes.length-1].fecha})]}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return t=e,console.log("pulsado "+t.personaEmisor.nombre),void m.a.fire({showCloseButton:!0,showConfirmButton:!1,width:600,title:"Consulta de Tr\xe1mite",html:"<b>Datos generales: </b>\n         <p><b>Tipo: </b> ".concat(t.tipoSolicitud.nombre," </p>\n         <p><b>Descripci\xf3n: </b> ").concat(t.descripcion," </p> \n\n         <b>Datos del Solicitante: </b>\n         <p><b>").concat(t.personaEmisor.puesto.nombre,": </b> ").concat(t.personaEmisor.nombre," </p> \n         <p><b>Correo: </b> ").concat(t.personaEmisor.correo," </p>\n        "),footer:"para SPRINT 2"});var t},children:Object(a.jsx)("img",{src:E,alt:"Abrir documento",height:"20px"})})})]},e.id)})):Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{})]})})]})})]})},R=function(){return Object(a.jsx)(n.Fragment,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(w,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/registrar.tramite",children:Object(a.jsx)(N,{})}),Object(a.jsx)(l.a,{path:"/listar.tramites",children:Object(a.jsx)(T,{})}),Object(a.jsx)(l.a,{path:"/registrar.persona",children:Object(a.jsx)(v,{})}),Object(a.jsx)(l.a,{path:"/listar.personas",children:Object(a.jsx)(x,{})}),Object(a.jsx)(l.a,{path:"/"})]})]})})};var P=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(R,{})})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.5f2103a6.chunk.js.map