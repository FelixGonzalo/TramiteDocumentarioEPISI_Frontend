(this["webpackJsonptramite-documentario-episi"]=this["webpackJsonptramite-documentario-episi"]||[]).push([[0],{27:function(e,t,a){},32:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),s=a.n(n),c=a(23),i=a.n(c),o=(a(40),a(9)),l=a(7),d=a.p+"static/media/estudiante.0cb003ea.svg",u=a.p+"static/media/persona.2c218a33.svg",j=a.p+"static/media/dni.b5f0a75f.svg",b=a.p+"static/media/empresa.33f5feba.svg",p=a.p+"static/media/carnet_estudiante.b051cd98.svg",h=a(4),m=a(2),O=a.n(m),x=a(3),f=a(5),v=a(17),g=a.n(v),N={alertError:function(e){g.a.fire({icon:"error",title:"Oops...",text:e})},alertOk:function(){g.a.fire({icon:"success",title:"Listo !!"})},miniAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mensaje",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=g.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}});a.fire({icon:t,title:e})},bigAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Verifique",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mensaje",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";g.a.fire({icon:a,title:e,text:t})}},y={manejoErrorGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="Error";200!==e?(a=e+": Error al conectar con el servidor",N.miniAlert(a,"warning")):0===t.length&&(a="No hay datos Registrados",N.miniAlert(a,"warning"))},manejoErrorPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:201;201!==e?N.miniAlert("".concat(e,": No se puede registrar"),"error"):N.alertOk()},manejoMiniErrorPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:201;201!==e?N.miniAlert("".concat(e,": No se puede registrar"),"error"):N.miniAlert("Listo!","success")},manejoMiniErrorDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:204;204!==e?N.miniAlert("".concat(e,": No se puede eliminar"),"error"):N.miniAlert("Eliminaci\xf3n lista!","success")}},w={array:[]},E="GET_PERSONAS",A="GET_PERSONAS_DNIRUC",k="GET_PERSONAS_CODESTUDIANTE";var S=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var a,r,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/personas",{method:"GET",headers:a});case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,t({type:E,payload:n}),y.manejoErrorGet(r.status,n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e,t){return Object(x.a)(O.a.mark((function a(){var r,n,s,c,i,o,l;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),a.next=5,fetch("http://localhost:8090/api/personas/buscar-por-dni/"+e.dniOruc,{method:"GET",headers:r});case 5:return n=a.sent,a.next=8,n.json();case 8:if(s=a.sent,!(200===n.status&&s.length>0)){a.next=13;break}N.miniAlert("Este DNI ya existe","warning"),a.next=43;break;case 13:return a.next=15,fetch("http://localhost:8090/api/personas/buscar-por-codEstudiante/"+e.codigoEstudiante,{method:"GET",headers:r});case 15:return c=a.sent,a.next=18,c.json();case 18:if(i=a.sent,!(200===c.status&&i.length>0)){a.next=23;break}N.miniAlert("Este C\xf3digo de estudiante ya existe","warning"),a.next=43;break;case 23:return a.next=25,fetch("http://localhost:8090/api/personas/buscar-por-email/"+e.correo,{method:"GET",headers:r});case 25:if(200!==a.sent.status){a.next=30;break}N.miniAlert("Este Correo ya existe","warning"),a.next=43;break;case 30:return r.append("Content-Type","application/json"),o={dniRuc:e.dniOruc,nombre:e.nombre,apellidos:e.apellidos,correo:e.correo,codEstudiante:e.codigoEstudiante,puesto:{id:Number(e.puesto)}},a.next=34,fetch("http://localhost:8090/api/personas",{method:"POST",headers:r,body:JSON.stringify(o)});case 34:l=a.sent,a.t0=l.status,a.next=201===a.t0?38:41;break;case 38:return N.bigAlert("Usuario registrado",e.nombre,"success"),t.target.reset(),a.abrupt("break",43);case 41:return N.miniAlert("Error al registrar persona","warning"),a.abrupt("break",43);case 43:a.next=48;break;case 45:a.prev=45,a.t1=a.catch(0),N.miniAlert(a.t1,"warning");case 48:case"end":return a.stop()}}),a,null,[[0,45]])})))},R=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.personas.array}));return Object(n.useEffect)((function(){e(S())}),[]),Object(r.jsx)("div",{className:"table-responsive",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Nombre"}),Object(r.jsx)("th",{children:"Identificaci\xf3n"}),Object(r.jsx)("th",{children:"Correo"}),Object(r.jsx)("th",{children:"Puesto"})]})}),Object(r.jsx)("tbody",{children:t.length>0?t.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(r.jsxs)("td",{children:[Object(r.jsx)("span",{className:"apellidos",children:e.apellidos})," "+e.nombre]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("img",{src:1===e.puesto.id?p:8===e.dniRuc.length?j:b,alt:"",height:"18px"}),1===e.puesto.id?" "+e.codEstudiante:" "+e.dniRuc]}),Object(r.jsx)("td",{children:e.correo}),Object(r.jsxs)("td",{children:[Object(r.jsx)("img",{src:1===e.puesto.id?d:u,alt:"",height:"18px"})," ",e.puesto.nombre]})]},e.id)})):Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{})]})})]})})},D=a(8),I=a(13),C=(a(32),{array:[]}),_="GET_PUESTOS";var L=function(){var e,t,a,s,c,i=Object(h.b)(),o=Object(h.c)((function(e){return e.personaPuestos.array})),l=Object(n.useState)(!1),d=Object(D.a)(l,2),u=d[0],j=d[1],b=Object(I.a)(),p=b.register,m=b.errors,f=b.handleSubmit;Object(n.useEffect)((function(){i(function(){var e=Object(x.a)(O.a.mark((function e(t,a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/personas/puestos-registro",{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:_,payload:s}),y.manejoErrorGet(n.status,s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())}),[]);var v=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(T(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:"form-default",onSubmit:f(v),onKeyDown:function(e){return function(e){"Enter"===e.code&&e.preventDefault()}(e)},children:[Object(r.jsxs)("label",{className:"label-default",children:[" Puesto",Object(r.jsx)("select",{onChange:function(e){return function(e){j("1"!==e)}(e.currentTarget.value)},name:"puesto",className:"input-default",ref:p(),children:o.length>0?o.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.nombre},e.id)})):Object(r.jsx)("option",{children:"No hay datos"})})]}),Object(r.jsxs)("label",{className:"label-default",children:[" Nombre",Object(r.jsx)("input",{type:"text",name:"nombre",className:"input-default",ref:p({required:{value:!0,message:"nombre obligatorio"},pattern:{value:/^[A-Za-z\xc0-\xff\s]+$/i,message:"nombre no v\xe1lido"}})})]}),Object(r.jsx)("span",{className:"input-error",children:null===m||void 0===m||null===(e=m.nombre)||void 0===e?void 0:e.message}),!0!==u?Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{className:"label-default",children:[" Apellidos",Object(r.jsx)("input",{type:"text",name:"apellidos",className:"input-default",ref:p({required:{value:!0,message:"Apelligos obligatorio"},pattern:{value:/^[A-Za-z\xc0-\xff\s]+$/i,message:"apellidos no v\xe1lido"}})})]}),Object(r.jsx)("span",{className:"input-error",children:null===m||void 0===m||null===(t=m.apellidos)||void 0===t?void 0:t.message})]}):null,Object(r.jsxs)("label",{className:"label-default",children:[" Correo",Object(r.jsx)("input",{type:"text",name:"correo",className:"input-default",ref:p({required:{value:!0,message:"Correo obligatorio"},pattern:{value:/[a-z0-9_.-]+@[a-z]+\.[a-z0-9_.-]+[a-z0-9]/i,message:"correo no v\xe1lido"}})})]}),Object(r.jsx)("span",{className:"input-error",children:null===m||void 0===m||null===(a=m.correo)||void 0===a?void 0:a.message}),Object(r.jsxs)("label",{className:"label-default",children:[" DNI/RUC",Object(r.jsx)("input",{type:"text",name:"dniOruc",className:"input-default",ref:p({required:{value:!0,message:"DNI/RUC obligatorio"},pattern:{value:/[0-9]+$/,message:"se acepta solo n\xfameros"},minLength:{value:8,message:"muy corto, son 8 caracteres para DNI"},maxLength:{value:11,message:"te pasaste, solo 11 caracteres para RUC"}})})]}),Object(r.jsx)("span",{className:"input-error",children:null===m||void 0===m||null===(s=m.dniOruc)||void 0===s?void 0:s.message}),!0!==u?Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{className:"label-default",children:[" Cod. estudiante",Object(r.jsx)("input",{type:"text",name:"codigoEstudiante",className:"input-default",ref:p({required:{value:!0,message:"Cod. estudiante obligatorio"},pattern:{value:/[0-9]+$/,message:"solo se acepta n\xfameros"},minLength:{value:10,message:"muy corto, son 10 n\xfameros"},maxLength:{value:10,message:"muy grande, solo 10 n\xfameros"}})})]}),Object(r.jsx)("span",{className:"input-error",children:null===m||void 0===m||null===(c=m.codigoEstudiante)||void 0===c?void 0:c.message})]}):null,Object(r.jsx)("button",{className:"button-default",children:"Registrar"})]})},P=a(14),z=(a(46),{fechaSistema:function(){var e=new Date,t=e.getDate()<10?"0"+e.getDate():e.getDate(),a=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1;return"".concat(e.getFullYear(),"-").concat(a,"-").concat(t)}}),G={array:[]},B="GET_SOLICITUD_TIPOS";var U={array:[]},M="GET_SOLICITUDES";var H={array:[]},q="GET_ARCHIVOS";var F=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t,a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/archivos/archivos-sin-solicitud",{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:q,payload:s}),200!==n.status?N.miniAlert(n.status+": Error al conectar con el servidor","warning"):0===s.length&&N.miniAlert("No hay archivos Registrados","warning"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()},J=function(e,t){return Object(x.a)(O.a.mark((function a(){var r,n,s;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={correos:e},(n=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),n.append("Content-Type","application/json"),a.next=7,fetch("http://localhost:8090/api/archivos/enviar-archivo/"+t,{method:"POST",headers:n,body:JSON.stringify(r)});case 7:s=a.sent,a.t0=s.status,a.next=200===a.t0?11:13;break;case 11:return N.bigAlert("Archivo enviado al correo: ",e[0],"success"),a.abrupt("break",15);case 13:return N.miniAlert("Ahora no podemos atenderlo","warning"),a.abrupt("break",15);case 15:a.next=20;break;case 17:a.prev=17,a.t1=a.catch(0),console.log(a.t1);case 20:case"end":return a.stop()}}),a,null,[[0,17]])})))},K=function(){var e,t,a=Object(h.b)(),s=Object(h.c)((function(e){return e.solicitudTipos.array})),c=Object(h.c)((function(e){return e.personas.array})),i=Object(h.c)((function(e){return e.archivos.array})),o=Object(I.a)(),l=o.register,d=o.errors,u=o.handleSubmit,j=Object(n.useState)(null),b=Object(D.a)(j,2),p=b[0],m=b[1],f=Object(n.useState)(null),v=Object(D.a)(f,2),g=v[0],w=v[1];Object(n.useEffect)((function(){a(function(){var e=Object(x.a)(O.a.mark((function e(t,a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/solicitudes/tipo-solicitudes",{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:B,payload:s}),y.manejoErrorGet(n.status,s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()),a(S())}),[]);var E=function(e){var t=e.target.value.trim();if(!(t.length>0))return null;var a,r=Object(P.a)(c);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(-1!==n.nombre.toLowerCase().indexOf(t.toLowerCase()))return n}}catch(s){r.e(s)}finally{r.f()}};return Object(r.jsxs)("form",{className:"form-default ",onSubmit:u((function(e,t){a(F()),i.length>0&&a(function(e,t,a,r){return function(){var n=Object(x.a)(O.a.mark((function n(s,c){var i,o,l,d;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={descripcion:e.descripcion,tipoSolicitud:{id:e.tipoTramite},personaEmisor:{id:a.id},personasReceptoras:[{id:r.id}]},(o=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),o.append("Content-Type","application/json"),n.next=7,fetch("http://localhost:8090/api/solicitudes",{method:"POST",headers:o,body:JSON.stringify(i)});case 7:return l=n.sent,n.next=10,l.json();case 10:500===(d=n.sent).status?N.alertError("".concat(d.status,": ").concat(d.error)):(N.alertOk(),t.target.reset()),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),N.alertError(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}()}(e,t,p,g))})),onKeyDown:function(e){return function(e){"Enter"===e.code&&e.preventDefault()}(e)},children:[Object(r.jsx)("p",{className:"default-subtitle",children:"Datos generales"}),Object(r.jsxs)("label",{className:"label-default",children:[" Tipo de Tr\xe1mite",Object(r.jsx)("select",{name:"tipoTramite",className:"input-default",ref:l(),children:s.length>0?s.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.nombre},e.id)})):Object(r.jsx)("option",{children:"No hay datos"})})]}),Object(r.jsxs)("label",{className:"label-default",children:[" Descripci\xf3n",Object(r.jsx)("textarea",{name:"descripcion",className:"input-default",ref:l()})]}),Object(r.jsx)("p",{className:"default-subtitle",children:"Datos del Solicitante"}),Object(r.jsx)("input",{onKeyDown:function(e){return function(e){m(E(e)),"Enter"===e.code&&null!==p&&void 0!==p&&(e.target.value=p.nombre)}(e)},type:"search",name:"solicitante",placeholder:"Nombre de solicitante",className:"input-default input-buscador",ref:l({required:{value:!0,message:"solicitante obligatorio"}})}),Object(r.jsx)("span",{className:"input-error",children:null===d||void 0===d||null===(e=d.solicitante)||void 0===e?void 0:e.message}),null!==p&&void 0!==p?Object(r.jsx)("ul",{className:"info-persona",children:Object(r.jsxs)("li",{children:[Object(r.jsxs)("span",{className:"persona-dato",children:[p.puesto.nombre,":"]})," ",p.nombre]})}):Object(r.jsxs)("ul",{className:"info-persona",children:[Object(r.jsx)("li",{})," "]}),Object(r.jsx)("p",{className:"default-subtitle",children:"Datos del destinatario"}),Object(r.jsx)("input",{onKeyDown:function(e){return function(e){w(E(e)),"Enter"===e.code&&null!==g&&void 0!==g&&(e.target.value=g.nombre)}(e)},type:"search",name:"destinatario",placeholder:"Nombre de destinatario",className:"input-default input-buscador",ref:l({required:{value:!0,message:"destinatario obligatorio"}})}),Object(r.jsx)("span",{className:"input-error",children:null===d||void 0===d||null===(t=d.destinatario)||void 0===t?void 0:t.message}),null!==g&&void 0!==g?Object(r.jsx)("ul",{className:"info-persona",children:Object(r.jsxs)("li",{children:[Object(r.jsxs)("span",{className:"persona-dato",children:[g.puesto.nombre,":"]})," ",g.nombre]})}):Object(r.jsxs)("ul",{className:"info-persona",children:[Object(r.jsx)("li",{})," "]}),Object(r.jsx)("button",{type:"submit",className:"button-default",children:"Registrar"}),Object(r.jsx)("input",{name:"fecha",type:"text",value:z.fechaSistema(),readOnly:"readonly",className:"tramite-fecha"})]})},Z=(a(47),a.p+"static/media/logo_uns.23e16e39.png"),$=a.p+"static/media/logo_episi.35a32d18.jpg",V=function(){return Object(r.jsx)("header",{className:"header",children:Object(r.jsxs)("div",{className:"header-information",children:[Object(r.jsx)("img",{src:Z,alt:"logo UNS",height:"30px"}),Object(r.jsx)("h1",{className:"header-title",children:"Sistema de Tr\xe1mite Documentario de EPISI"}),Object(r.jsx)("img",{src:$,alt:"logo EPISI",height:"30px"})]})})},X=(a(48),a.p+"static/media/abrir_documento.6376c73e.svg"),Y=a.p+"static/media/pdf.12e88d93.svg",Q={array:[]},W="GET_SOLICITUD_ESTADOS";var ee=function(e,t,a,r,n){return function(){var s=Object(x.a)(O.a.mark((function s(c){var i,o,l;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,(i=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),s.next=5,fetch("http://localhost:8090/api/solicitudes/actualizar-estado/".concat(e,"/estado/").concat(t),{method:"PUT",headers:i,body:a});case 5:return o=s.sent,s.next=8,o.json();case 8:l=s.sent,console.log("respuesta de cambiar estado:"),console.log(o.status),console.log("data:"),console.log(l),201!==o.status?N.miniAlert(o.status+": error al cambiar el estado de la solicitud","warning"):201===o.status&&(N.miniAlert("Archivo cambiado a estado: "+r,"success"),n.push("/inicio")),s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),N.miniAlert(s.t0,"warning");case 19:case"end":return s.stop()}}),s,null,[[0,16]])})));return function(e){return s.apply(this,arguments)}}()},te=a.p+"static/media/ver.d7f731bb.svg",ae=a.p+"static/media/send.411a97f6.svg",re=(a(49),Object(l.f)((function(e){var t=Object(h.b)(),a=Object(n.useState)("ROLE_USER"),s=Object(D.a)(a,2),c=s[0],i=s[1];Object(n.useEffect)((function(){JSON.parse(window.atob(localStorage.getItem("mitoken").split(".")[1])).authorities.forEach((function(e){"ROLE_ADMIN"===e&&i("ROLE_ADMIN")}))}),[]);var o=function(){var e=Object(x.a)(O.a.mark((function e(a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.fire({input:"email",inputLabel:"Enviar documento a",inputPlaceholder:"Correo destino"});case 2:r=e.sent,(n=r.value)&&((s=[]).push(n),t(J(s,a)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var a=Object(x.a)(O.a.mark((function a(r,n,s,c){var i,o;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=document.getElementById("formCambiarEstadoSolicitud"),r.preventDefault(),o=new FormData(i),t(ee(s,n,o,c,e.history));case 4:case"end":return a.stop()}}),a)})));return function(e,t,r,n){return a.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"container-tramite",children:[Object(r.jsx)("button",{className:"btnCerrarConsulta",onClick:e.cerrarConsulta,children:"cerrar"}),Object(r.jsx)("h3",{className:"tramite-title",children:"Consulta de tr\xe1mite"}),Object(r.jsx)("p",{className:"tramite-subtitle",children:"Datos generales "}),Object(r.jsxs)("p",{children:["Tipo: ",e.data.tipoSolicitud.nombre]}),Object(r.jsxs)("p",{children:["Descripci\xf3n: ",e.data.descripcion," "]}),Object(r.jsx)("div",{className:"table-responsive",children:Object(r.jsxs)("table",{className:"",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Estado"}),Object(r.jsx)("th",{children:"fecha"}),Object(r.jsx)("th",{children:"descripcion"})]})}),Object(r.jsx)("tbody",{children:e.data.estadoSolicitudes.length>0?e.data.estadoSolicitudes.map((function(e,t){return Object(r.jsxs)("tr",{className:e.estado.nombre,children:[Object(r.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(r.jsx)("td",{children:e.estado.nombre}),Object(r.jsx)("td",{children:e.fecha}),Object(r.jsx)("td",{children:e.descripcion})]},e.id)})):null})]})}),Object(r.jsx)("p",{className:"tramite-subtitle",children:"Datos del Solicitante "}),Object(r.jsx)("div",{className:"table-responsive",children:Object(r.jsxs)("table",{className:"",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Puesto"}),Object(r.jsx)("th",{children:"Nombre"}),Object(r.jsx)("th",{children:"Correo"}),Object(r.jsx)("th",{children:"Dni \xf3 Ruc / Cod Estudiante"})]})}),Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"01"}),Object(r.jsx)("td",{children:e.data.personaEmisor.puesto.nombre}),Object(r.jsxs)("td",{children:[e.data.personaEmisor.apellidos+" ",e.data.personaEmisor.nombre]}),Object(r.jsx)("td",{children:e.data.personaEmisor.correo}),Object(r.jsxs)("td",{children:[e.data.personaEmisor.dniRuc," / ",e.data.personaEmisor.codEstudiante]})]},e.data.personaEmisor.id)})]})}),Object(r.jsx)("p",{className:"tramite-subtitle",children:"Datos del Destinatario "}),Object(r.jsx)("div",{className:"table-responsive",children:Object(r.jsxs)("table",{className:"",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Puesto"}),Object(r.jsx)("th",{children:"Nombre"}),Object(r.jsx)("th",{children:"Correo"}),Object(r.jsx)("th",{children:"Dni \xf3 Ruc / Cod Estudiante"})]})}),Object(r.jsx)("tbody",{children:e.data.personasReceptoras.length>0?e.data.personasReceptoras.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(r.jsx)("td",{children:e.puesto.nombre}),Object(r.jsxs)("td",{children:[e.apellidos+" ",e.nombre]}),Object(r.jsx)("td",{children:e.correo}),Object(r.jsxs)("td",{children:[e.dniRuc," / ",e.codEstudiante," "]})]},e.id)})):null})]})}),Object(r.jsx)("p",{className:"tramite-subtitle",children:"Archivos "}),Object(r.jsx)("div",{className:"table-responsive",children:Object(r.jsxs)("table",{className:"",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Tipo"}),Object(r.jsx)("th",{children:"Descripci\xf3n"}),Object(r.jsx)("th",{children:"operaciones"})]})}),Object(r.jsx)("tbody",{children:e.data.archivos.length>0?e.data.archivos.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(r.jsx)("td",{children:e.tipoArchivo.nombre}),Object(r.jsx)("td",{children:e.descripcion}),Object(r.jsxs)("td",{children:[Object(r.jsx)("a",{href:"http://localhost:8090/api/archivos/ver-archivo/"+e.id+"/",target:"_blank",rel:"noreferrer",children:Object(r.jsx)("img",{src:te,alt:"",width:"25px"})}),Object(r.jsx)("button",{className:"botonToicon",onClick:function(t){return o(e.id)},children:Object(r.jsx)("img",{src:ae,alt:"",width:"25px"})})]})]},e.id)})):null})]})}),"ROLE_ADMIN"!==c&&1===e.estadosPendientes.length?null:Object(r.jsxs)("form",{className:"cambiarEstadoSolicitud",id:"formCambiarEstadoSolicitud",children:[Object(r.jsx)("p",{children:"Cambiar estado de la solicitud"}),Object(r.jsxs)("label",{children:[" Descripci\xf3n (opcional)",Object(r.jsx)("textarea",{name:"descripcion",className:"input-default"})]}),e.estadosPendientes.length>1&&Object(r.jsx)("input",{type:"file",name:"documento"}),Object(r.jsx)("div",{children:e.estadosPendientes.map((function(t){return"ROLE_ADMIN"===c&&("Aprobado"===t.nombre||"Rechazado"===t.nombre)||"ROLE_ADMIN"!==c&&"Archivado"===t.nombre?null:Object(r.jsx)("button",{onClick:function(a){return l(a,t.id,e.data.id,t.nombre)},children:t.nombre},t.id)}))})]})]})}))),ne=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.solicitudes.array})),a=Object(h.c)((function(e){return e.solicitudEstados.array})),s=Object(n.useState)(null),c=Object(D.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(""),j=Object(D.a)(l,2),b=j[0],p=j[1],m=Object(n.useState)("ROLE_USER"),f=Object(D.a)(m,2),v=f[0],g=f[1];Object(n.useEffect)((function(){e(function(){var e=Object(x.a)(O.a.mark((function e(t,a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/solicitudes",{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:M,payload:s.reverse()}),y.manejoErrorGet(n.status,s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}());var t=JSON.parse(window.atob(localStorage.getItem("mitoken").split(".")[1]));p(t.dniRuc),t.authorities.forEach((function(e){"ROLE_ADMIN"===e&&g("ROLE_ADMIN")}))}),[]);var w=function(t){var a;e((a=t.id,function(){var e=Object(x.a)(O.a.mark((function e(t){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/solicitudes/listar-estados/"+a,{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:W,payload:s}),200!==n.status&&N.miniAlert(n.status+": error al obtener solicitudes","warning"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),o(t),document.getElementById("tabla-lista-tramites").classList.add("lista-tramites")};return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"table-responsive",id:"tabla-lista-tramites",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Solicitante"}),Object(r.jsx)("th",{children:"Destinatario"}),Object(r.jsx)("th",{children:"Tipo de tr\xe1mite"}),Object(r.jsx)("th",{children:"Estado de solicitud"}),Object(r.jsx)("th",{})]})}),Object(r.jsx)("tbody",{children:t.length>0?t.map((function(e,t){return(b===e.personasReceptoras[0].dniRuc||"ROLE_ADMIN"===v)&&Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1<10?"0"+(t+1):t+1}),Object(r.jsxs)("td",{children:[Object(r.jsx)("img",{src:1===e.personaEmisor.puesto.id?d:u,alt:"",height:"18px"}),Object(r.jsxs)("span",{className:"apellidos",children:[" "+e.personaEmisor.apellidos," "]})," "+e.personaEmisor.nombre]}),Object(r.jsxs)("td",{className:"apellidoYnombre",children:[Object(r.jsx)("img",{src:1===e.personasReceptoras[0].puesto.id?d:u,alt:"",height:"18px"}),Object(r.jsx)("span",{className:"apellidos",children:e.personasReceptoras[0].apellidos})," "+e.personasReceptoras[0].nombre]}),Object(r.jsx)("td",{children:e.tipoSolicitud.nombre}),Object(r.jsxs)("td",{children:[Object(r.jsx)("span",{className:"estado-tramite "+e.estadoSolicitudes[e.estadoSolicitudes.length-1].estado.nombre,children:e.estadoSolicitudes[e.estadoSolicitudes.length-1].estado.nombre}),Object(r.jsx)("span",{className:"fecha-tramite",children:e.estadoSolicitudes[e.estadoSolicitudes.length-1].fecha})]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("button",{className:"botonToicon",onClick:function(){return w(e)},children:Object(r.jsx)("img",{src:X,alt:"Abrir documento",height:"20px"})}),Object(r.jsx)("a",{className:"botonToicon",href:"http://localhost:8090/api/solicitudes/exportar/"+e.id+"/",target:"_blank",rel:"noreferrer",children:Object(r.jsx)("img",{src:Y,alt:"generar PDF",height:"20px"})})]})]},e.id)})):null})]})}),null!==i&&Object(r.jsx)(re,{data:i,estadosPendientes:a,cerrarConsulta:function(e){return o(null),void document.getElementById("tabla-lista-tramites").classList.remove("lista-tramites")}})]})},se=a.p+"static/media/actualizar_doc.a46459c9.svg",ce=a.p+"static/media/eliminar.ef205528.svg",ie=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.archivos.array}));return Object(n.useEffect)((function(){e(F())}),[]),Object(r.jsx)("div",{className:"table-responsive table-small",children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)("button",{className:"btn-actualizar",onClick:function(t){return e(F())},children:Object(r.jsx)("img",{src:se,alt:"",height:"25px"})})}),Object(r.jsx)("th",{children:"tipo file"}),Object(r.jsx)("th",{children:"descripcion"}),Object(r.jsx)("th",{children:"file"})]})}),Object(r.jsx)("tbody",{id:"listaArchivos",children:t.length>0?t.map((function(t,a){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:a+1<10?"0"+(a+1):a+1}),Object(r.jsx)("td",{children:t.tipoArchivo.nombre}),Object(r.jsx)("td",{children:t.descripcion}),Object(r.jsxs)("td",{children:[Object(r.jsx)("a",{href:"http://localhost:8090/api/archivos/ver-archivo/".concat(t.id,"/"),target:"_blank",rel:"noreferrer",children:Object(r.jsx)("img",{src:te,alt:"",width:"25px"})}),Object(r.jsx)("button",{className:"botonToicon",onClick:function(a){return e((r=t.id,function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,s,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/archivos/"+r,{method:"DELETE",headers:a});case 5:if(200===(n=e.sent).status){e.next=10;break}N.miniAlert("".concat(n.status,": Error al eliminar archivo"),"error"),e.next=27;break;case 10:return N.miniAlert("archivo eliminado !","success"),e.prev=11,(s=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=16,fetch("http://localhost:8090/api/archivos/archivos-sin-solicitud",{method:"GET",headers:s});case 16:return c=e.sent,e.next=19,c.json();case 19:i=e.sent,t({type:q,payload:i}),200!==c.status?N.miniAlert(c.status+": Error al conectar con el servidor","warning"):0===i.length&&N.miniAlert("No hay archivos Registrados","warning"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(11),N.miniAlert(e.t0,"warning");case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(0),console.log(e.t1),N.alertError(e.t1);case 33:case"end":return e.stop()}}),e,null,[[0,29],[11,24]])})));return function(t){return e.apply(this,arguments)}}()));var r},children:Object(r.jsx)("img",{src:ce,alt:"",width:"25px"})})]})]},t.id)})):Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{})]})})]})})},oe={array:[]},le="GET_ARCHIVOS_TIPOS";var de=function(){var e,t=Object(h.b)(),a=Object(h.c)((function(e){return e.archivoTipos.array})),s=Object(I.a)(),c=s.register,i=s.errors,o=s.handleSubmit;Object(n.useEffect)((function(){t(function(){var e=Object(x.a)(O.a.mark((function e(t,a){var r,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),e.next=5,fetch("http://localhost:8090/api/archivos/tipoArchivos",{method:"GET",headers:r});case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:le,payload:s}),y.manejoErrorGet(n.status,s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.miniAlert(e.t0,"warning");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}())}),[]);return Object(r.jsxs)("form",{className:"form-default",onSubmit:o((function(e,a){t(function(e,t){return function(){var a=Object(x.a)(O.a.mark((function a(r,n){var s,c,i,o,l,d;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(s=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),(c=new FormData).append("documento",e.documento[0]),c.append("descripcion",""===e.descripcion?" ":e.descripcion),c.append("tipoArchivo.id",e.tipoArchivo),a.next=9,fetch("http://localhost:8090/api/archivos/crear-con-file",{method:"POST",headers:s,body:c});case 9:if(201===(i=a.sent).status){a.next=14;break}N.miniAlert("".concat(i.status,": No se puede registrar"),"error"),a.next=32;break;case 14:return N.miniAlert("archivo agregado !","success"),t.target.reset(),a.prev=16,(o=new Headers).append("Authorization","Bearer "+localStorage.getItem("mitoken")),a.next=21,fetch("http://localhost:8090/api/archivos/archivos-sin-solicitud",{method:"GET",headers:o});case 21:return l=a.sent,a.next=24,l.json();case 24:d=a.sent,r({type:q,payload:d}),200!==l.status?N.miniAlert(l.status+": Error al conectar con el servidor","warning"):0===d.length&&N.miniAlert("No hay archivos Registrados","warning"),a.next=32;break;case 29:a.prev=29,a.t0=a.catch(16),N.miniAlert(a.t0,"warning");case 32:a.next=38;break;case 34:a.prev=34,a.t1=a.catch(0),console.log(a.t1),N.alertError(a.t1);case 38:case"end":return a.stop()}}),a,null,[[0,34],[16,29]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,a))})),children:[Object(r.jsx)("p",{className:"default-subtitle",children:"Archivos"}),Object(r.jsxs)("label",{className:"label-default",children:[" Tipo",Object(r.jsx)("select",{name:"tipoArchivo",className:"input-default",ref:c(),children:a.length>0?a.map((function(e){return"RESPUESTA"!==e.nombre&&Object(r.jsx)("option",{value:e.id,children:e.nombre},e.id)})):Object(r.jsx)("option",{children:"No hay datos"})})]}),Object(r.jsxs)("label",{className:"label-default",children:[" Descripcion",Object(r.jsx)("input",{type:"text",name:"descripcion",className:"input-default",ref:c()})]}),Object(r.jsx)("span",{className:"input-error",children:null===i||void 0===i||null===(e=i.descripcion)||void 0===e?void 0:e.message}),Object(r.jsx)("input",{ref:c(),type:"file",name:"documento"}),Object(r.jsx)("button",{className:"button-default btn-small",children:"Agregar"})]})},ue={array:[]},je="GET_TOKEN";var be=function(e,t){return Object(x.a)(O.a.mark((function a(){var r,n,s,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,"frontendapp","12345",r=new FormData,n=new Headers,r.append("grant_type","password"),r.append("username",e.username),r.append("password",e.password),n.append("Authorization","Basic "+btoa("frontendapp:12345")),a.next=11,fetch("http://localhost:8090/api/security/oauth/token",{method:"POST",headers:n,body:r});case 11:return s=a.sent,a.next=14,s.json();case 14:c=a.sent,200===s.status?(localStorage.setItem("mitoken",c.access_token),N.bigAlert("Listos para trabajar","Usuario: "+e.username,"success"),t.push("/inicio")):N.miniAlert("Usuario o contrase\xf1a incorrecto","error"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),console.log(a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))},pe=function(e){return Object(x.a)(O.a.mark((function t(){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new FormData).append("correo",e.correo),t.next=5,fetch("http://localhost:8090/api/usuarios/forgot_password",{method:"POST",body:a});case 5:r=t.sent,t.t0=r.status,t.next=404===t.t0?9:500===t.t0?11:200===t.t0?13:15;break;case 9:return N.bigAlert("Correo sin permisos de acceso !!","Ningun usuario con ( ".concat(e.correo," ) tiene acceso al sistema")),t.abrupt("break",17);case 11:return N.bigAlert("Oops !! Correo no se encuentra","Si afirma que el correo es correcto pruebe m\xe1s tarde"),t.abrupt("break",17);case 13:return N.bigAlert("Revise su correo !!","Puede cerrar esta pesta\xf1a","success"),t.abrupt("break",17);case 15:return N.miniAlert("Ahora no podemos atenderlo","error"),t.abrupt("break",17);case 17:t.next=23;break;case 19:t.prev=19,t.t1=t.catch(0),console.log("errorrr"),console.log(t.t1);case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))},he=function(e,t,a){return Object(x.a)(O.a.mark((function r(){var n,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.password===e.repeat_password){r.next=5;break}N.miniAlert("Error al repetir contrase\xf1a","error"),r.next=20;break;case 5:return(n=new FormData).append("token",t),n.append("password",e.password),n.append("repeat-password",e.repeat_password),r.next=11,fetch("http://localhost:8090/api/usuarios/cambiar_contrasenia",{method:"POST",body:n});case 11:s=r.sent,r.t0=s.status,r.next=201===r.t0?15:18;break;case 15:return N.miniAlert("Listo ahora puede iniciar sesi\xf3n !!","success"),a.push("/login"),r.abrupt("break",20);case 18:return N.miniAlert("No se pudo cambiar la contrase\xf1a !!","error"),r.abrupt("break",20);case 20:r.next=25;break;case 22:r.prev=22,r.t1=r.catch(0),console.log(r.t1);case 25:case"end":return r.stop()}}),r,null,[[0,22]])})))},me=(a(27),a.p+"static/media/login.208d4741.svg"),Oe=Object(l.f)((function(e){var t,a,n=Object(h.b)(),s=Object(I.a)(),c=s.register,i=s.errors,l=s.handleSubmit,d=function(){var t=Object(x.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(be(a,e.history));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"container-login",children:[Object(r.jsx)("h2",{className:"default-title",children:"Login"}),Object(r.jsxs)("div",{className:"container-login-flex",children:[Object(r.jsx)("img",{src:me,width:"150px",alt:""}),Object(r.jsxs)("form",{onSubmit:l(d),children:[Object(r.jsxs)("label",{className:"login-label",children:[" Username",Object(r.jsx)("input",{type:"text",name:"username",className:"login-input",ref:c({required:{value:!0,message:"username obligatorio"}})})]}),Object(r.jsx)("span",{className:"login-error",children:null===i||void 0===i||null===(t=i.username)||void 0===t?void 0:t.message}),Object(r.jsxs)("label",{className:"login-label",children:[" Contrase\xf1a",Object(r.jsx)("input",{type:"password",name:"password",className:"login-input",ref:c({required:{value:!0,message:"contrase\xf1a obligatorio"},pattern:{value:/^[0-9A-Za-z\xc0-\xff\s]+$/i,message:"contrase\xf1a no v\xe1lido"}})})]}),Object(r.jsx)("span",{className:"login-error",children:null===i||void 0===i||null===(a=i.password)||void 0===a?void 0:a.message}),Object(r.jsx)("button",{className:"login-btn",children:"Entrar"})]})]}),Object(r.jsx)("div",{className:"login-footer",children:Object(r.jsx)(o.b,{to:"/recuperar.contrasenia",className:"login-footer-link",children:"Recuperar Contrase\xf1a"})})]})})),xe=function(){var e,t=Object(h.b)(),a=Object(I.a)(),n=a.register,s=a.errors,c=a.handleSubmit,i=function(){var e=Object(x.a)(O.a.mark((function e(a,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(pe(a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"container-login",children:[Object(r.jsx)("h2",{className:"default-title",children:"Recuperar Contrase\xf1a"}),Object(r.jsxs)("div",{className:"container-login-flex",children:[Object(r.jsx)("img",{src:me,width:"130px",alt:""}),Object(r.jsxs)("form",{onSubmit:c(i),children:[Object(r.jsxs)("label",{className:"login-label",children:[" correo",Object(r.jsx)("input",{type:"text",name:"correo",className:"login-input",ref:n({required:{value:!0,message:"correo obligatorio"}})})]}),Object(r.jsx)("span",{className:"login-error",children:null===s||void 0===s||null===(e=s.correo)||void 0===e?void 0:e.message}),Object(r.jsx)("button",{className:"login-btn",children:"Recuperar"})]})]}),Object(r.jsxs)("div",{className:"login-footer",children:["Enviaremos un mensaje a su correo",Object(r.jsx)(o.b,{to:"/login",className:"login-footer-link",children:"Iniciar Sesi\xf3n"})]})]})},fe=a.p+"static/media/trabajando.e05b1822.svg",ve=(a(51),function(e){return Object(r.jsxs)("div",{className:"container-UrlDesconocida",children:[Object(r.jsx)("img",{src:fe,alt:"",height:"300px"}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["\u2022.",e.mensaje,".\u2022"]})]})}),ge=Object(l.f)((function(e){var t,a,n=Object(h.b)(),s=Object(I.a)(),c=s.register,i=s.errors,l=s.handleSubmit,d=function(){var t=Object(x.a)(O.a.mark((function t(a,r){var s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=window.location.href.split("token="),n(he(a,s[1],e.history));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"container-login",children:[Object(r.jsx)("h2",{className:"default-title",children:"Cambiar Contrase\xf1a"}),Object(r.jsx)("div",{className:"container-login-flex",children:Object(r.jsxs)("form",{onSubmit:l(d),children:[Object(r.jsxs)("label",{className:"login-label",children:[" Nueva contrase\xf1a",Object(r.jsx)("input",{type:"password",name:"password",className:"login-input",ref:c({required:{value:!0,message:"contrase\xf1a obligatorio"},pattern:{value:/(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{8,}/,message:"debe tener 1 mayuscula y 1 n\xfamero"},minLength:{value:8,message:"debe teber 8 caracteres m\xednimo"}})})]}),Object(r.jsx)("span",{className:"login-error",children:null===i||void 0===i||null===(t=i.password)||void 0===t?void 0:t.message}),Object(r.jsxs)("label",{className:"login-label",children:[" Repetir contrase\xf1a",Object(r.jsx)("input",{type:"password",name:"repeat_password",className:"login-input",ref:c({required:{value:!0,message:"repetir contrase\xf1a obligatorio"},pattern:{value:/(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{8,}/,message:"debe tener 1 mayuscula y 1 n\xfamero"},minLength:{value:8,message:"debe teber 8 caracteres m\xednimo"}})})]}),Object(r.jsx)("span",{className:"login-error",children:null===i||void 0===i||null===(a=i.repeat_password)||void 0===a?void 0:a.message}),Object(r.jsx)("button",{className:"login-btn",children:"Cambiar"})]})}),Object(r.jsxs)("div",{className:"login-footer",children:["Todo cambio debe ser a trav\xe9s de link por correo y",Object(r.jsx)("br",{}),"el link solo le sirve para un cambio",Object(r.jsx)(o.b,{to:"/login",className:"login-footer-link",children:"Iniciar Sesi\xf3n"})]})]})})),Ne=(a(52),a.p+"static/media/hogar.b0fca4f1.svg"),ye=function(){var e=Object(h.b)(),t=function(){e(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("mitoken");case 1:case"end":return e.stop()}}),e)}))))},a=Object(n.useState)(null),s=Object(D.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)("ROLE_USER"),d=Object(D.a)(l,2),u=d[0],j=d[1];return Object(n.useEffect)((function(){var e=JSON.parse(window.atob(localStorage.getItem("mitoken").split(".")[1]));i(e),e.authorities.forEach((function(e){"ROLE_ADMIN"===e&&j("ROLE_ADMIN")}))}),[]),Object(r.jsxs)("nav",{className:"navbar",children:[Object(r.jsxs)("div",{className:"usuario-actual",children:[Object(r.jsx)("img",{src:p,alt:"",height:"20px"}),Object(r.jsx)("span",{children:null!==c&&c.user_name})]}),Object(r.jsx)(o.b,{to:"/inicio",exact:!0,className:"navbar-option",children:Object(r.jsx)("img",{src:Ne,alt:"inicio",height:"25px"})}),"ROLE_ADMIN"===u&&Object(r.jsx)(o.b,{to:"/listar.personas",className:"navbar-option",activeClassName:"navbar-activate",children:"Listar personas"}),"ROLE_ADMIN"===u&&Object(r.jsx)(o.b,{to:"/registrar.persona",className:"navbar-option",activeClassName:"navbar-activate",children:"Registrar persona"}),Object(r.jsx)(o.b,{to:"/listar.tramites",className:"navbar-option",activeClassName:"navbar-activate",children:"Lista de tr\xe1mites"}),"ROLE_ADMIN"===u&&Object(r.jsx)(o.b,{to:"/registrar.tramite",className:"navbar-option",activeClassName:"navbar-activate",children:"Registrar tr\xe1mite"}),Object(r.jsx)(o.b,{to:"/login",exact:!0,className:"navbar-option",activeClassName:"navbar-activate",onClick:function(e){return t()},children:"Salir"})]})},we=(a(53),function(){return Object(r.jsx)(n.Fragment,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(V,{}),Object(r.jsxs)(l.c,{children:[Object(r.jsxs)(l.a,{path:"/registrar.tramite",children:[Object(r.jsx)(ye,{}),Object(r.jsxs)("main",{className:"container-main",children:[Object(r.jsx)("h2",{className:"default-title",children:"Registrar tr\xe1mite"}),Object(r.jsxs)("div",{className:"containerFlex",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(de,{}),Object(r.jsx)(ie,{})]}),Object(r.jsx)(K,{})]})]})]}),Object(r.jsxs)(l.a,{path:"/listar.tramites",children:[Object(r.jsx)(ye,{}),Object(r.jsxs)("main",{className:"container-main",children:[Object(r.jsx)("h2",{className:"default-title",children:"Lista de Tr\xe1mites"}),Object(r.jsx)(ne,{})]})]}),Object(r.jsxs)(l.a,{path:"/registrar.persona",children:[Object(r.jsx)(ye,{}),Object(r.jsxs)("main",{className:"container-main",children:[Object(r.jsx)("h2",{className:"default-title",children:"Registrar persona"}),Object(r.jsx)(L,{})]})]}),Object(r.jsxs)(l.a,{path:"/listar.personas",children:[Object(r.jsx)(ye,{}),Object(r.jsxs)("main",{className:"container-main",children:[Object(r.jsx)("h2",{className:"default-title",children:"Lista de Personas"}),Object(r.jsx)(R,{})]})]}),Object(r.jsx)(l.a,{path:"/cambiar.contrasenia",children:Object(r.jsx)(ge,{})}),Object(r.jsx)(l.a,{path:"/recuperar.contrasenia",children:Object(r.jsx)(xe,{})}),Object(r.jsx)(l.a,{path:"/login",children:Object(r.jsx)(Oe,{})}),Object(r.jsxs)(l.a,{path:"/inicio",children:[Object(r.jsx)(ye,{}),Object(r.jsx)(ve,{mensaje:"LISTOS PARA TRABAJAR"})]}),Object(r.jsx)(l.a,{path:"/",children:Object(r.jsx)(Oe,{})})]})]})})}),Ee=a(18),Ae=a(34),ke=Object(Ee.c)({personas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case A:case k:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},personaPuestos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},archivos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},archivoTipos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},solicitudes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},solicitudTipos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},solicitudEstados:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(f.a)(Object(f.a)({},e),{},{array:t.payload});default:return e}}}),Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d;var Te=function(){var e=Object(Ee.e)(ke,Se(Object(Ee.a)(Ae.a)));return Object(r.jsx)(h.a,{store:e,children:Object(r.jsx)(we,{})})};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(Te,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.939762a3.chunk.js.map